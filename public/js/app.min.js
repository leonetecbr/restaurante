(()=>{var t,a={80:()=>{var t,a,e,o,n=$("#load"),d=$("#load-error"),l=$("#manage-table"),s=$("#form-edit"),i=$("#close-bill"),r=$("#pay-bill"),c=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')),u=0;function p(){var t=$("#products-add-json"),a=$(this).data("product-id"),e=JSON.parse(t.val());e[a]=0,u-=parseFloat($("#products-add-"+a+"-value").data("value")),t.val(JSON.stringify(e)),$("#total-add-products").html(b(u)),$("#products-add-"+a).remove(),f(e)&&($("#btn-submit-add").prop("disabled",!0),$("#products-add").html(h(null)))}function m(t,a){var e=$("#detail");n.removeClass("d-none"),d.addClass("d-none"),e.addClass("d-none"),$("#detail-"+t+"-id").html(a),axios.get(apiDetails.replace("0",a)).then((function(o){var d=o.data;n.addClass("d-none"),e.removeClass("d-none");var l="table"===t?v(d,a):v(d);$("#products").html(l),$("#total-products").html(d.total)})).catch((function(t){n.addClass("d-none"),e.addClass("d-none"),d.removeClass("d-none"),console.log(t)}))}function v(t){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o="";if(void 0===t[0])o='<li class="list-group-item text-muted text-center">Não há produtos nessa mesa!</li>';else for(var n=0;void 0!==t[n];n++){var d=t[n];o+='<li class="list-group-item d-flex justify-content-between lh-sm">\n                        <div>\n                            <h6 class="my-1">\n                                <span class="badge bg-primary rounded-pill me-1">'.concat(d.quantity,"</span>"),o+=e?'<a href="'.concat(productItem,"#product-").concat(d.id,'" class="text-decoration-none">').concat(d.name,"</a>"):d.name,o+='</h6>\n                            <small class="text-muted">'.concat(d.unitaryValue,'</small>\n                        </div>\n                        <div>\n                            <span class="text-muted me-2">').concat(d.value,"</span>"),a&&(o+='<a class="text-danger fw-bold text-decoration-none"\n                                 href="'.concat(deleteItem,"/").concat(a,"/").concat(d.id,'">\n                                <i class="bi bi-x"></i>\n                              </a>')),o+="</div>\n                        </li>"}return o}function h(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=e*a;return u+=n,null===t?'<li class="list-group-item text-muted text-center">Ainda não há produtos para adicionar!</li>':'<li class="list-group-item d-flex justify-content-between lh-sm" id="products-add-'.concat(o,'">\n                    <div>\n                        <h6 class="my-1">\n                            <span class="badge bg-primary rounded-pill me-1" id="products-add-').concat(o,'-quantity">\n                                ').concat(e,"\n                            </span>\n                            ").concat(t,'\n                        </h6>\n                        <small class="text-muted">').concat(b(a),'</small>\n                    </div>\n                    <div>\n                        <span class="text-muted me-2" id="products-add-').concat(o,'-value" data-value=').concat(n,">").concat(b(n),'</span>\n                        <a class="text-danger fw-bold text-decoration-none products-add-delete" data-product-id="').concat(o,'"\n                            href="#delete-product">\n                            <i class="bi bi-x"></i>\n                        </a>\n                    </div>\n                </li>')}function b(t){return t.toLocaleString("pt-br",{style:"currency",currency:"BRL"})}function f(t){for(var a=Object.keys(t),e=0;e<a.length;e++)if(0!==t[a[e]])return!1;return!0}function g(){var a=window.location.hash;if(t&&$(t).removeClass("table-primary"),a.startsWith("#product-")||a.startsWith("#table-")){if(window.location.hash){var e=window.location.hash;$(e).addClass("table-primary"),t=e}}else t=void 0}c.map((function(t){return new bootstrap.Tooltip(t)})),$(".needs-validation").on("submit",(function(t){this.checkValidity()||(t.preventDefault(),t.stopPropagation()),$(this).addClass("was-validated")})),$("#show-pass").on("click",(function(){var t=$("#password");"password"===t.attr("type")?(t.attr("type","text"),$("#icon-show-pass").removeClass("bi-eye-fill").addClass("bi-eye-slash-fill"),$("#text-show-pass").html("Esconder")):(t.attr("type","password"),$("#icon-show-pass").removeClass("bi-eye-slash-fill").addClass("bi-eye-fill"),$("#text-show-pass").html("Mostrar"))})),$("#edit-value").on("show.bs.modal",(function(t){var a=t.relatedTarget,e=a.getAttribute("data-action"),o=a.getAttribute("data-product-id"),n=a.getAttribute("data-value"),d=$("#name-"+o).html();d=d.toUpperCase()===d?d:d.toLowerCase(),$("#name-product").html(d),$("#value-product").val(n),s.attr("action",e)})),$("#edit-capacity").on("show.bs.modal",(function(t){var a=t.relatedTarget,e=a.getAttribute("data-table-id"),o=a.getAttribute("data-action"),n=a.getAttribute("data-capacity");$("#edit-table-id").html(e),$("#capacity-table").val(n),s.attr("action",o)})),$("#delete-table").on("show.bs.modal",(function(t){var a=t.relatedTarget,e=a.getAttribute("data-table-id"),o=a.getAttribute("data-href");$("#delete-table-id").html(e),$("#btn-confirm-delete").attr("href",o)})),$("#manage-table-close").on("click",(function(){return l.addClass("d-none")})),$("#period-payment").on("change",(function(){return $("#form-select").trigger("submit")})),$("#detail-table").on("show.bs.modal",(function(t){m("table",t.relatedTarget.getAttribute("data-table-id"))})),$("#detail-order").on("show.bs.modal",(function(t){m("order",t.relatedTarget.getAttribute("data-order-id"))})),$(".btn-manage-table").on("click",(function(){var t=$(this).data("table-id"),o=$("#manage"),s=$("#btn-manage");window.location="#manage-table",n.removeClass("d-none"),d.addClass("d-none"),o.addClass("d-none"),s.addClass("d-none"),$("#manage-table-id").html(t),l.removeClass("d-none"),axios.get(apiDetails.replace("0",t)).then((function(d){var l=d.data;n.addClass("d-none"),o.removeClass("d-none"),s.removeClass("d-none");var i=v(l,!1,!1),r=$("#btn-vacant-table");a=t,void 0===l[0]?($("#btn-close-bill").addClass("d-none"),r.removeClass("d-none"),r.attr("href",r.data("href")+"/"+t)):(r.addClass("d-none"),$("#btn-close-bill").removeClass("d-none"),e=l.sum),$("#products").html(i),$("#total-products").html(l.total)})).catch((function(t){n.addClass("d-none"),o.addClass("d-none"),d.removeClass("d-none"),console.log(t)}))})),$("#add-products").on("show.bs.modal",(function(){var t=$("#products-add-json"),e=$("#form-add-products");$("#add-table-id").html(a),$("#form-product").removeClass("was-validated").trigger("reset"),e.attr("action",e.data("action")+"/"+a),t.val(t.attr("data-value")),u=0,$("#total-add-products").html(b(u)),$("#products-add").html(h(null))})),$("#form-product").on("submit",(function(t){if(this.checkValidity()){t.preventDefault(),$(this).addClass("was-validated");var a=$("#add-product-id :selected"),e=$("#products-add-json"),o=a.val(),n=a.html(),d=parseFloat(a.data("value")),l=$("#products-add"),s=JSON.parse(e.val()),i=parseInt($("#add-product-quantity").val());f(s)&&($("#btn-submit-add").prop("disabled",!1),l.html("")),s[o]+=i,e.val(JSON.stringify(s)),s[o]===i?l.append(h(n,d,i,o)):(u+=i*d,$("#products-add-"+o+"-quantity").html(s[o]),$("#products-add-"+o+"-value").html(b(s[o]*d))),$(".products-add-delete").on("click",p),$("#total-add-products").html(b(u)),$(this).removeClass("was-validated").trigger("reset")}else t.preventDefault(),t.stopPropagation(),$(this).addClass("was-validated")})),i.on("show.bs.modal",(function(){$("#form-close-bill").removeClass("was-validated").trigger("reset"),$("#close-table-id").html(a)})),$("#form-close-bill").on("submit",(function(t){this.checkValidity()?(t.preventDefault(),$(this).addClass("was-validated"),o=parseInt($("#quantity-people-table").val()),$("#pay-table-id").html(a),bootstrap.Modal.getInstance(i).hide(),new bootstrap.Modal(r).show()):(t.preventDefault(),t.stopPropagation(),$(this).addClass("was-validated"))})),r.on("show.bs.modal",(function(){var t=$("#form-pay-bill"),n=parseFloat((e/o).toFixed(2)),d=function(){for(var t="",a=1;a<=o;a++)t+='<div class="mt-3">\n                    <label for="method-'.concat(a,'" class="form-label">Cliente ').concat(a,' pagou em(no)</label>\n                    <select class="form-select" name="method[]" id="method-').concat(a,'" required>\n                        <option disabled selected value="" class="d-none">Selecione ...</option>\n                        <option value="dinheiro">Dinheiro</option>\n                        <option value="débito">Débito</option>\n                        <option value="crédito">Crédito</option>\n                        <option value="pix">PIX</option>\n                    </select>\n                </div>');return t}();$("#method-pay-bill").html(d),$("#value-pay").html(b(n)),t.removeClass("was-validated"),t.attr("action",t.data("action")+"/"+a)})),$(window).on("scroll",(function(){$(window).scrollTop()>62?$("body").css("padding-top",62):$("body").css("padding-top",$(window).scrollTop())})),$(window).on("hashchange",(function(){return g()})),g()},662:()=>{}},e={};function o(t){var n=e[t];if(void 0!==n)return n.exports;var d=e[t]={exports:{}};return a[t](d,d.exports,o),d.exports}o.m=a,t=[],o.O=(a,e,n,d)=>{if(!e){var l=1/0;for(c=0;c<t.length;c++){for(var[e,n,d]=t[c],s=!0,i=0;i<e.length;i++)(!1&d||l>=d)&&Object.keys(o.O).every((t=>o.O[t](e[i])))?e.splice(i--,1):(s=!1,d<l&&(l=d));if(s){t.splice(c--,1);var r=n();void 0!==r&&(a=r)}}return a}d=d||0;for(var c=t.length;c>0&&t[c-1][2]>d;c--)t[c]=t[c-1];t[c]=[e,n,d]},o.o=(t,a)=>Object.prototype.hasOwnProperty.call(t,a),(()=>{var t={219:0,679:0};o.O.j=a=>0===t[a];var a=(a,e)=>{var n,d,[l,s,i]=e,r=0;if(l.some((a=>0!==t[a]))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(i)var c=i(o)}for(a&&a(e);r<l.length;r++)d=l[r],o.o(t,d)&&t[d]&&t[d][0](),t[d]=0;return o.O(c)},e=self.webpackChunk=self.webpackChunk||[];e.forEach(a.bind(null,0)),e.push=a.bind(null,e.push.bind(e))})(),o.O(void 0,[679],(()=>o(80)));var n=o.O(void 0,[679],(()=>o(662)));n=o.O(n)})();
//# sourceMappingURL=app.min.js.map